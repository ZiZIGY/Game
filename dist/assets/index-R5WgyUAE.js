(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(t){if(t.ep)return;t.ep=!0;const e=a(t);fetch(t.href,e)}})();const l=(s,i)=>{let a=0;const r=document.getElementById(s),t=r.getContext("2d"),e=c();p(e.controls);const o=n=>{t.clearRect(0,0,r.width,r.height),~~(n/1e3)>a&&(a++,e.sprites.idle.frames.current=(e.sprites.idle.frames.current+1)%e.sprites.idle.frames.total),e.controls.right&&(e.position.x+=e.speed.value),e.controls.left&&(e.position.x-=e.speed.value),e.controls.down&&(e.position.y+=e.speed.value),e.controls.up&&(e.position.y-=e.speed.value),t.save(),t.drawImage(e.sprites.idle.image,e.sprites.idle.frames.width*e.sprites.idle.frames.current,0,e.sprites.idle.frames.width,e.sprites.idle.frames.height,e.position.x,e.position.y,e.sprites.idle.frames.width,e.sprites.idle.frames.height),t.restore(),t.beginPath(),t.rect(e.position.x+e.size.width/2,e.position.y,e.size.width,e.size.height),t.strokeStyle="red",t.stroke(),t.closePath(),requestAnimationFrame(o)};o(0),i()},c=(s=0,i=0)=>{const a={run:"/public/assets/entities/player/RunAttack.png",idle:"/public/assets/entities/player/Idle.png",jump:"/public/assets/entities/player/Jump.png",attack:"/public/assets/entities/player/Attack.png"},r={controls:{left:!1,right:!1,up:!1,down:!1},size:{height:29,width:16},health:{current:100,max:100},position:{x:s,y:i},direction:{dx:0,dy:0},speed:{value:1,acceleration:0},sprites:{idle:{image:new Image,frames:{height:29,width:42,total:4,current:0}},run:{image:new Image,frames:{height:32,width:64,total:6,current:0}},jump:{image:new Image,frames:{height:32,width:64,total:2,current:0}},attack:{image:new Image,frames:{height:32,width:64,total:4,current:1}}}};for(const t of Object.keys(a))r.sprites[t].image.src=a[t];return r},p=s=>{window.onkeyup=i=>{switch(i.key){case"a":s.left=!1;break;case"d":s.right=!1;break;case"w":s.up=!1;break;case"s":s.down=!1;break}},window.onkeydown=i=>{switch(i.key){case"a":s.left=!0;break;case"d":s.right=!0;break;case"w":s.up=!0;break;case"s":s.down=!0;break}}};l("app",()=>{const s=new Audio;s.src="/public/assets/sound/forest.wav",s.play(),s.loop=!0,s.volume=.05});
